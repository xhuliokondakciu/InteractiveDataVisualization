@using KGTMachineLearningWeb.Common.Helper
<header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        @Html.ActionLink("KGT deep learning data", "Index", "Workspace", new { area = "" }, new { @class = "navbar-brand mr-1" })
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">


            <ul class="navbar-nav ml-auto ml-md-0">
                @*<li class="nav-item @(Html.IsSelected("Chart","Index") ? "active": "")">
                    @Html.ActionLink("Synchronized charts", "Index", "Chart", new { area = "" }, new { @class = "nav-link" })
                </li>*@
                @if (Request.IsAuthenticated)
                {
                    <li class="nav-item @(Html.IsSelected("Workspace","Index") ? "active": "")">
                        @Html.ActionLink("Workspace", "Index", "Workspace", new { area = "" }, new { @class = "nav-link" })
                    </li>
                    <li class="nav-item @(Html.IsSelected("Jobs","Index") ? "active": "")" id="my-jobs-link">
                        <a href="@Url.Action("Index","Jobs",new { area = "" })" class="nav-link">
                            My Jobs
                            @if (ViewBag.RunningJobs != null && (int)ViewBag.RunningJobs != 0)
                            {
                                <span class="badge badge-pill badge-danger">@ViewBag.RunningJobs</span>
                            }
                        </a>
                    </li>
                    <li class="nav-item @(Html.IsSelected("ChartsConfiguration","Index") ? "active": "")">
                        @Html.ActionLink("Charts configurations", "Index", "ChartsConfiguration", new { area = "" }, new { @class = "nav-link" })
                    </li>
                }

                @if (Request.IsAuthenticated && User.IsInRole("Admin"))
                {

                    <li class="nav-item @(Html.IsSelected("Processors","Index") ? "active": "")">
                        @Html.ActionLink("Processors configuraitons", "Index", "Processors", new { area = "" }, new { @class = "nav-link" })
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Admin
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            @Html.ActionLink("Users", "Index", "User", new { area = "Admin" }, new { @class = "dropdown-item" })
                            <a href="/Admin/Jobs" class="dropdown-item">Jobs Dashboard</a>
                        </div>
                    </li>
                }
            </ul>

            @Html.Partial("_LoginPartial")
        </div>
    </nav>
</header>
